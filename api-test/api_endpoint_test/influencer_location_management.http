#Local environment URL
@base_url = http://localhost:8000

#Staging URL
# @base_url = https://staging.viraltogether.com
#Production URL
# @base_url = https://api.viraltogether.com

@auth_token = your_auth_token_here

### 0. Login for Access Token
# @name login_for_access_token
POST {{base_url}}/auth/token
Content-Type: application/x-www-form-urlencoded

username=**********&password=**********

### ========================================
### INFLUENCER LOCATION MANAGEMENT (Require Authentication)
### ========================================

### Influencer Location Management Test File
### Test CRUD operations for influencer locations

### 1. Add Influencer Location - Primary location
POST {{base_url}}/api/v1/influencers/1/locations
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "city_name": "Los Angeles",
  "region_name": "California",
  "region_code": "CA",
  "country_code": "US",
  "country_name": "United States",
  "latitude": 34.0522,
  "longitude": -118.2437,
  "postcode": "90210",
  "time_zone": "America/Los_Angeles",
  "is_primary": true
}

###

### 2. Add Influencer Location - Secondary location
POST {{base_url}}/api/v1/influencers/1/locations
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "city_name": "Miami",
  "region_name": "Florida",
  "region_code": "FL",
  "country_code": "US",
  "country_name": "United States",
  "latitude": 25.7617,
  "longitude": -80.1918,
  "postcode": "33101",
  "time_zone": "America/New_York",
  "is_primary": false
}

###

### 3. Add Influencer Location - International location
POST {{base_url}}/api/v1/influencers/1/locations
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "city_name": "London",
  "region_name": "England",
  "region_code": "ENG",
  "country_code": "GB",
  "country_name": "United Kingdom",
  "latitude": 51.5074,
  "longitude": -0.1278,
  "postcode": "SW1A 1AA",
  "time_zone": "Europe/London",
  "is_primary": false
}

###

### 4. Add Influencer Location - Minimal data
POST {{base_url}}/api/v1/influencers/2/locations
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "city_name": "Toronto",
  "country_code": "CA",
  "country_name": "Canada",
  "latitude": 43.6532,
  "longitude": -79.3832
}

###

### 5. Get All Influencer Locations
GET {{base_url}}/api/v1/influencers/1/locations
Authorization: Bearer {{auth_token}}

###

### 6. Get Influencer Locations - Different influencer
GET {{base_url}}/api/v1/influencers/2/locations
Authorization: Bearer {{auth_token}}

###

### 7. Get Influencer Locations - Non-existent influencer
GET {{base_url}}/api/v1/influencers/999/locations
Authorization: Bearer {{auth_token}}

###

### 8. Update Influencer Location - Change primary status
PUT {{base_url}}/api/v1/influencers/locations/1
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "city_name": "Los Angeles",
  "region_name": "California",
  "region_code": "CA",
  "country_code": "US",
  "country_name": "United States",
  "latitude": 34.0522,
  "longitude": -118.2437,
  "postcode": "90210",
  "time_zone": "America/Los_Angeles",
  "is_primary": false
}

###

### 9. Update Influencer Location - Change coordinates
PUT {{base_url}}/api/v1/influencers/locations/2
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "city_name": "Miami Beach",
  "region_name": "Florida",
  "region_code": "FL",
  "country_code": "US",
  "country_name": "United States",
  "latitude": 25.7907,
  "longitude": -80.1300,
  "postcode": "33139",
  "time_zone": "America/New_York",
  "is_primary": true
}

###

### 10. Update Influencer Location - Non-existent location
PUT {{base_url}}/api/v1/influencers/locations/999
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "city_name": "Test City",
  "country_code": "US",
  "country_name": "United States",
  "latitude": 40.7128,
  "longitude": -74.0060
}

###

### 11. Delete Influencer Location
DELETE {{base_url}}/api/v1/influencers/locations/3
Authorization: Bearer {{auth_token}}

###

### 12. Delete Influencer Location - Non-existent
DELETE {{base_url}}/api/v1/influencers/locations/999
Authorization: Bearer {{auth_token}}

###

### 13. Add Influencer Location - Invalid coordinates
POST {{base_url}}/api/v1/influencers/1/locations
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "city_name": "Invalid City",
  "country_code": "US",
  "country_name": "United States",
  "latitude": 200.0,
  "longitude": 300.0
}

###

### 14. Add Influencer Location - Missing required fields
POST {{base_url}}/api/v1/influencers/1/locations
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "city_name": "Incomplete City",
  "country_code": "US"
}

###

### 15. Add Influencer Location - Empty city name
POST {{base_url}}/api/v1/influencers/1/locations
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "city_name": "",
  "country_code": "US",
  "country_name": "United States",
  "latitude": 40.7128,
  "longitude": -74.0060
}
