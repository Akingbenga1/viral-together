@base_url=http://localhost:8000
@access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJBa2luZ2JlbmdhIiwiZXhwIjoxNzUzOTYxNDc2fQ.7bdwEsF8ZXe3CoodX-gHriykZikN4qa4xB6BdWn8KJs

### 0. Login for Access Token
# @name login_for_access_token
POST {{base_url}}/auth/token
Content-Type: application/x-www-form-urlencoded

username=**********&password=**********

### ========================================
### PROMOTION CRUD ENDPOINTS
### ========================================

### 1. Create a New Promotion
# Creates a new promotion and triggers notifications for relevant influencers
# @name create_promotion
POST {{base_url}}/promotions/
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "business_id": 1,
    "promotion_name": "Electric Ladder Sweater (New LV)",
    "promotion_item": "Gadget",
    "start_date": "2024-06-01T00:00:00",
    "end_date": "2024-06-30T00:00:00",
    "discount": 10.0,
    "budget": 4000.0,
    "target_audience": "Young Adults",
    "social_media_platform_id": 9
}

### 2. Get Promotion by ID
# Retrieves a specific promotion by its ID
# @name get_promotion
GET {{base_url}}/promotions/1
Authorization: Bearer {{access_token}}

### 3. Update a Promotion
# Updates an existing promotion with new data
# @name update_promotion
PUT {{base_url}}/promotions/1
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "business_id": 1,
    "promotion_name": "Summer Sale Updated",
    "promotion_item": "Electronics",
    "start_date": "2024-06-01T00:00:00",
    "end_date": "2024-06-30T00:00:00",
    "discount": 15.0,
    "budget": 6000.0,
    "target_audience": "Young Adults",
    "social_media_platform_id": 9
}

### 4. Delete a Promotion
# Deletes a promotion by its ID
# @name delete_promotion
DELETE {{base_url}}/promotions/1
Authorization: Bearer {{access_token}}

### 5. List All Promotions
# Retrieves all promotions in the system
# @name list_promotions
GET {{base_url}}/promotions
Authorization: Bearer {{access_token}}

### ========================================
### COLLABORATION INTEREST ENDPOINTS
### ========================================

### 6. Show Interest in Promotion (Complete Data)
# Allows an influencer to show interest in a promotion with full details
# Creates a pending collaboration and triggers notifications
# @name show_interest_complete
POST {{base_url}}/promotions/27/show-interest
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "influencer_id": 1,
    "proposed_amount": 1500.0,
    "collaboration_type": "sponsored_post",
    "deliverables": "6 Instagram posts every day.1 article post per week",
    "message": "Ready to create viral magic together! My engaged audience would be thrilled about this collaboration!"
}

### 7. Show Interest without Proposed Amount
# Shows interest without specifying a proposed amount (negotiable)
# @name show_interest_no_amount
POST {{base_url}}/promotions/1/show-interest
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "influencer_id": 2,
    "collaboration_type": "product_review",
    "deliverables": "Honest review video on TikTok",
    "message": "This product aligns perfectly with my audience!"
}

### 8. Show Interest with Minimal Data
# Shows interest with only required fields
# @name show_interest_minimal
POST {{base_url}}/promotions/2/show-interest
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "influencer_id": 3,
    "collaboration_type": "brand_ambassador"
}

### 9. Show Interest with Custom Collaboration Type
# Shows interest with a custom collaboration type
# @name show_interest_custom_type
POST {{base_url}}/promotions/2/show-interest
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "influencer_id": 4,
    "proposed_amount": 800.0,
    "collaboration_type": "event_coverage",
    "deliverables": "Live event coverage, 3 posts, highlight reel",
    "message": "I have experience covering similar events and can provide great exposure!"
}

### ========================================
### ERROR CASE TESTS
### ========================================

### 10. Try to Show Interest Twice (Should Fail - Duplicate)
# Attempts to show interest twice for the same promotion-influencer combination
# @name show_interest_duplicate
POST {{base_url}}/promotions/1/show-interest
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "influencer_id": 1,
    "collaboration_type": "sponsored_post",
    "message": "Trying to submit interest again..."
}

### 11. Show Interest in Non-existent Promotion (Should Fail - 404)
# Attempts to show interest in a promotion that doesn't exist
# @name show_interest_nonexistent_promotion
POST {{base_url}}/promotions/99999/show-interest
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "influencer_id": 1,
    "collaboration_type": "sponsored_post"
}

### 12. Show Interest with Non-existent Influencer (Should Fail - 404)
# Attempts to show interest with an influencer that doesn't exist
# @name show_interest_nonexistent_influencer
POST {{base_url}}/promotions/1/show-interest
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "influencer_id": 99999,
    "collaboration_type": "sponsored_post"
}

### 13. Get Non-existent Promotion (Should Fail - 404)
# Attempts to get a promotion that doesn't exist
# @name get_nonexistent_promotion
GET {{base_url}}/promotions/99999
Authorization: Bearer {{access_token}}

### 14. Update Non-existent Promotion (Should Fail - 404)
# Attempts to update a promotion that doesn't exist
# @name update_nonexistent_promotion
PUT {{base_url}}/promotions/99999
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
    "business_id": 1,
    "promotion_name": "This should fail",
    "promotion_item": "Test",
    "start_date": "2024-06-01T00:00:00",
    "end_date": "2024-06-30T00:00:00",
    "social_media_platform_id": 9
}

### 15. Delete Non-existent Promotion (Should Fail - 404)
# Attempts to delete a promotion that doesn't exist
# @name delete_nonexistent_promotion
DELETE {{base_url}}/promotions/99999
Authorization: Bearer {{access_token}}

### ========================================
### EXPECTED RESPONSE MODELS
### ========================================

# Expected Response Success Model for Promotion:
# {
#   "id": 1,
#   "business_id": 1,
#   "promotion_name": "Summer Sale",
#   "promotion_item": "Electronics",
#   "start_date": "2024-06-01T00:00:00",
#   "end_date": "2024-06-30T00:00:00",
#   "discount": 10.0,
#   "budget": 4000.0,
#   "target_audience": "Young Adults",
#   "social_media_platform_id": 9,
#   "created_at": "2024-01-15T10:30:00Z",
#   "updated_at": "2024-01-15T10:30:00Z"
# }

# Expected Response Success Model for Show Interest:
# {
#   "message": "Collaboration interest submitted successfully",
#   "collaboration_id": 1,
#   "promotion_name": "Summer Sale",
#   "promotion_id": 1,
#   "business_name": "Global Innovations Inc.",
#   "business_id": 1,
#   "influencer_name": "John Doe",
#   "influencer_id": 1,
#   "status": "pending",
#   "collaboration_type": "sponsored_post",
#   "proposed_amount": 1500.0,
#   "deliverables": "6 Instagram posts",
#   "message": "Ready to create viral magic!",
#   "created_at": "2024-01-15T10:30:00Z",
#   "notification_triggered": true
# } 